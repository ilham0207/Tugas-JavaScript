<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Sistem Manajemen Transportasi</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#">ðŸš— Transportasi</a>
    </div>
  </nav>

  <div class="container my-4">
    <!-- Judul -->
    <div class="text-center mb-4">
      <h1 class="fw-bold text-primary">Sistem Manajemen Transportasi</h1>
      <p class="text-muted">Data pelanggan & transaksi penyewaan kendaraan</p>
    </div>

    <!-- Layout dengan 2 Kolom -->
    <div class="row">
      <!-- Kolom kiri: daftar pelanggan -->
      <div class="col-md-6">
        <h3 class="text-secondary mb-3">Daftar Pelanggan</h3>
        <div id="daftarPelanggan" class="row gy-3"></div>
      </div>

      <!-- Kolom kanan: daftar transaksi -->
      <div class="col-md-6">
        <h3 class="text-secondary mb-3">Daftar Transaksi</h3>
        <div id="daftarTransaksi" class="table-responsive"></div>
      </div>
    </div>
  </div>

  <script>
    // ===============================
    // Class Kendaraan (Super Class)
    // ===============================
    class Kendaraan {
      constructor(nama, jenis) {
        this.nama = nama;
        this.jenis = jenis;
      }

      info() {
        return `${this.jenis} - ${this.nama}`;
      }
    }

    // Subclass Kendaraan
    class Mobil extends Kendaraan {
      constructor(nama, kapasitas) {
        super(nama, "Mobil");
        this.kapasitas = kapasitas;
      }

      info() {
        return `${super.info()} (Kapasitas: ${this.kapasitas} orang)`;
      }
    }

    class Motor extends Kendaraan {
      constructor(nama, cc) {
        super(nama, "Motor");
        this.cc = cc;
      }

      info() {
        return `${super.info()} (Mesin: ${this.cc}cc)`;
      }
    }

    class Bus extends Kendaraan {
      constructor(nama, kapasitas) {
        super(nama, "Bus");
        this.kapasitas = kapasitas;
      }

      info() {
        return `${super.info()} (Kapasitas: ${this.kapasitas} penumpang)`;
      }
    }

    // ===============================
    // Class Pelanggan
    // ===============================
    class Pelanggan {
      constructor(nama, nomorTelepon) {
        this.nama = nama;
        this.nomorTelepon = nomorTelepon;
        this.kendaraanDisewa = null;
      }

      sewaKendaraan(kendaraan) {
        this.kendaraanDisewa = kendaraan;
      }
    }

    // ===============================
    // Class Transaksi
    // ===============================
    class Transaksi {
      constructor(pelanggan, kendaraan, tanggal) {
        this.pelanggan = pelanggan;
        this.kendaraan = kendaraan;
        this.tanggal = tanggal;
      }
    }

    // ===============================
    // Class Manajemen Transportasi
    // ===============================
    class ManajemenTransportasi {
      constructor() {
        this.daftarPelanggan = [];
        this.daftarTransaksi = [];
      }

      tambahPelanggan(pelanggan) {
        if (pelanggan.kendaraanDisewa) {
          this.daftarPelanggan.push(pelanggan);
          this.catatTransaksi(pelanggan, pelanggan.kendaraanDisewa);
        }
      }

      catatTransaksi(pelanggan, kendaraan) {
        const tanggal = new Date().toLocaleString();
        const transaksi = new Transaksi(pelanggan, kendaraan, tanggal);
        this.daftarTransaksi.push(transaksi);
      }

      tampilkanDaftarPelanggan() {
        let html = "";
        if (this.daftarPelanggan.length === 0) {
          html = `<p class="text-muted">Belum ada pelanggan.</p>`;
        } else {
          this.daftarPelanggan.forEach((p, i) => {
            html += `
              <div class="col-12">
                <div class="card shadow-sm">
                  <div class="card-body">
                    <h5 class="card-title text-primary">${p.nama}</h5>
                    <p class="card-text mb-1"><strong>Telepon:</strong> ${p.nomorTelepon}</p>
                    <p class="card-text"><strong>Kendaraan:</strong> ${p.kendaraanDisewa.info()}</p>
                  </div>
                </div>
              </div>
            `;
          });
        }
        document.getElementById("daftarPelanggan").innerHTML = html;
      }

      tampilkanDaftarTransaksi() {
        let html = `
          <table class="table table-striped table-bordered align-middle">
            <thead class="table-success text-center">
              <tr>
                <th>No</th>
                <th>Tanggal</th>
                <th>Nama</th>
                <th>Kendaraan</th>
              </tr>
            </thead>
            <tbody>
        `;
        if (this.daftarTransaksi.length === 0) {
          html += `<tr><td colspan="4" class="text-center text-muted">Belum ada transaksi.</td></tr>`;
        } else {
          this.daftarTransaksi.forEach((t, i) => {
            html += `
              <tr>
                <td class="text-center">${i + 1}</td>
                <td>${t.tanggal}</td>
                <td>${t.pelanggan.nama} (${t.pelanggan.nomorTelepon})</td>
                <td>${t.kendaraan.info()}</td>
              </tr>
            `;
          });
        }
        html += "</tbody></table>";
        document.getElementById("daftarTransaksi").innerHTML = html;
      }
    }

    // ===============================
    // Contoh Penggunaan Sistem
    // ===============================
    const sistem = new ManajemenTransportasi();

    // Membuat kendaraan
    const mobil1 = new Mobil("Toyota Avanza", 7);
    const motor1 = new Motor("Honda Vario", 150);
    const bus1 = new Bus("Mercedes-Benz", 40);

    // Membuat pelanggan
    const pelanggan1 = new Pelanggan("Andi", "08123456789");
    const pelanggan2 = new Pelanggan("Budi", "08234567890");
    const pelanggan3 = new Pelanggan("Citra", "08345678901");

    // Pelanggan menyewa kendaraan
    pelanggan1.sewaKendaraan(mobil1);
    pelanggan2.sewaKendaraan(motor1);
    pelanggan3.sewaKendaraan(bus1);

    // Mencatat transaksi
    sistem.tambahPelanggan(pelanggan1);
    sistem.tambahPelanggan(pelanggan2);
    sistem.tambahPelanggan(pelanggan3);

    // Tampilkan daftar
    sistem.tampilkanDaftarPelanggan();
    sistem.tampilkanDaftarTransaksi();
  </script>
</body>
</html>
